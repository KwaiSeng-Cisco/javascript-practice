<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping list example</title>
    <style>
      li {
        margin-bottom: 10px;
      }

      li button {
        font-size: 12px;
        margin-left: 20px;
        color: #666;
      }

      select {
      direction: rtl; 
      vertical-align: top; 
      }
    </style>
  </head>
  <body>

    <h1>My shopping list</h1>

    <table>
        <tr>
            <th>Fruits</th>
            <th>Cars</th>
            <th>Hobby list</th>
        </tr>
        
        <tr>
            <th class = "fruit-entry"> 
                <label for="new-fruit"> Enter a new fruit:</label>
                <input type="text" name="name_of_fruit" id="name_of_fruit">
                <button id="add-fruits">Add fruit</button>
            </th>
            <th class = "car-entry">
                <label for="new-car">Enter a new car:</label>
                <input type="text" name="name_of_car" id="name_of_car">
                <button id="add-cars">Add car</button>
            </th>
<!---
Refer to https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/select
-->

            <th class = "hobby-entry">
                <label for="new-hobby">Select some hobbies:</label>
                <select name="name_of_hobby" id="name_of_hobby" multiple>
                    <option value="Fishing">Fishing</option>
                    <option value="Cycling">Cycling</option>
                    <option value="Running">Running</option>
                    <option value="Reading">Reading</option>
                    <option value="Swimming">Swimming</option>
                    <option value="Hiking">Hiking</option>
                </select>
                <button id="add-hobbies">Add Hobby</button>
            </th>
        </tr>
        <tr>
            <th>
                <ul class="fruits-list">

                </ul>
            </th>
            <th>
                <ul class="cars-list">
  
                </ul>
            </th>
            <th>
                <ul class="hobby-list">
  
                </ul>
            </th>    
        </tr>
    </table>


    <script>

        document.querySelector("#add-hobbies").addEventListener("click", () => {
            var add_hobby_list = document.querySelector('.hobby-list');
            var add_hobby_input = document.querySelector("#name_of_hobby");
            console.log(add_hobby_input.TEXT_NODE)

            var result = [];
            var options = add_hobby_input && add_hobby_input.options;
            var opt;

            console.log(options)

            for (var i=0, iLen=options.length; i<iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                console.log("Value : ", opt.value, "Text :", opt.text)    
                result.push(opt.value || opt.text);
                add_item_to_list(add_hobby_list,opt);
                }
            }
            
        });


        document.querySelector("#add-cars").addEventListener("click", () => {
            var add_car_list = document.querySelector('.cars-list');
            var add_car_input = document.querySelector("#name_of_car");
            add_item_to_list(add_car_list,add_car_input);
        }); 

        document.querySelector("#add-fruits").addEventListener("click", () => {
            var add_fruit_list = document.querySelector('.fruits-list');
            var add_fruit_input = document.querySelector("#name_of_fruit");
            add_item_to_list(add_fruit_list,add_fruit_input);
        });


        function getSelectValues(select) {
            var result = [];
            var options = select && select.options;
            var opt;

            for (var i=0, iLen=options.length; i<iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                console.log("Value : ", opt.value, "Text :", opt.text)    
                result.push(opt.value || opt.text);
                }
            }
            return result;
        }
        
        function add_item_to_list(list,input){
            const myItem = input.value;
            input.value = '';

            const listItem = document.createElement('li');
            const listText = document.createElement('span');
            const listBtn = document.createElement('button');

            listItem.appendChild(listText);
            listText.textContent = myItem;
            listItem.appendChild(listBtn);
            listBtn.textContent = 'Delete';
            list.appendChild(listItem);

            listBtn.addEventListener('click', () => {
                list.removeChild(listItem);
            });

            input.focus();
        }
        
    </script>
  </body>
</html>